{"version":3,"sources":["src/core/router.ts","src/core/view.ts","src/core/api.ts","src/config.ts","src/page/news-detail-view.ts","src/page/news-feed-view.ts","src/page/index.ts","src/store.ts","src/app.ts"],"names":[],"mappings":"cMAA;;;;;;AHAa,OAAA,CAAA,QAAA,GAAW,sCAAX;AACA,OAAA,CAAA,WAAA,GAAc,wCAAd;;;IFDb;;AOAA,IAAA,APC8B,QOD9B,GAAA,eAAA,CAAA,OAAA,CAAA,eAAA,CAAA,CAAA;APQE,AKNF,IAAA,ACAa,YNMC,MKNd,GAAA,ELME,EAAiC,GKNnC,CAAA,ILME,EAAiD,cKNnD,CAAA;AEDA,APOmD,AMFjD,ICLF,MAAA,GAAA,MDKE,CCLF,CAAA,QAAA,CAAA;AFCS,ACIP,MDJO,CAAA,cAAA,CAAA,OAAA,EAAA,gBAAA,EAAA;AEAT,APOI,AKPK,EAAA,EEAT,IPOU,GOPV,CFAS,EEAT,AFAS,IAAA,GEAT,CAAA,EPO0B,GACpB,IORN,CAAA,GPQc,CAAC,cAAT,CAAwB,WAAxB,CADF;AKPK,ACKL,EDLK,GAAA,EAAA,ECKA,KAAL,GAAa,EAAb,GDLK;AEET,APQI,AKVK,ACML,ICJE,ARDe,ICSb,CORG,APQF,AMJA,EDNA,CEEK,IAAI,KDId,ECJc,CAAA,ADIM,CNIpB,AMJA,CDNK,CLUkB,AKVlB,EEEK,EAAd,cFFS,CAAA,CAAA,OAAA;AEIT,AREE,ACKI,AKXU,ACOb,ICHG,MAAM,EPOA,COPW,IAAI,GREzB,KQFyB,CAAA,OAAJ,EAAvB,MPOM;AONN,ARCE,ACMG,AKZI,CAAA,GEKH,YAAY,GAAG,IAAI,MAAA,CAAA,YAAJ,CAAiB,MAAjB,EAAyB,KAAzB,CAArB;AACA,IAAM,cAAc,GAAG,IAAI,MAAA,CAAA,cAAJ,CAAmB,MAAnB,EAA2B,KAA3B,CAAvB;AAEA,ARDI,ACOA,AKbJ,INMI,AMNJ,EEOM,CAAC,EPME,CDPC,CAAC,OCOP,EKbJ,CEOA,APMqB,CONC,CFPtB,INMI,CAAwB,EMN5B,CAAA,GEOA,GPMI,GDPA,EAAsC,KAAK,EMN/C,CAAA,ENM0C,CAAW,IAAX,CAAgB,IAAhB,CAAtC;AQGJ,ARDI,ACMA,MOLE,CAAC,ERDE,ACMA,AMNP,OPAE,CCMA,EOLJ,ARDmB,CQCC,APKA,IDNhB,AOAa,ICCjB,APKI,EOL0B,YAA9B,EAA4C,aAA5C;AACA,ARDI,ACMA,AKfK,ACSL,MCCE,AFVG,CEUF,AFVE,ENSA,ACMA,IMNE,KAAK,CCChB,CAAoB,CRDhB,AMTK,CAAA,CLeL,CDNoB,ECME,EOL1B,ARDI,CMTK,CEUqB,ADD1B,CDTK,GLeL,UOLJ,CFVS,CEUqC,CFVrC,YEUT;ARAI,ACMA,AKhBK,ACUN,EDVM,ONUA,ACMA,GKhBA,EAAA,GLgBL,CKhBK,CNUL,CCMgB,EDNE,ACMlB,EDNA;AACD,ACMA,AKjBM,EAAA,ELmBP,CKnBO,EAAA,ECYP,aDZO,ACYS,IAAhB,EAA4B;ANQ5B,AKpBO,ACaL,WDbK,ACaA,YAAL,GDbK,ACae,CDbf,GCaL,aDbK,CAAA,CAAA,OAAA;AAAO,ACcb;ADdM,CAAA,GJDY;AAInB,WFUA,IEVY,GAAZ,EAAuB,eFUR,IAAf,EAAuD;AEVhC,AFUgC,SOGvD,CPH2B,MAA4B,QOG3C,+DPHuC,IAAI;AACrD,AOGA,WPHK,ACOG,EMJD,KAAK,KPHZ,GAAoB,IOGb,GNIW,AMJS,CAA3B;ALbA,AFWE,ACOF,AMJD,QPHG,CEXG,EDkBA,CDPC,CEXN,CFWQ,EEXI,AFUQ,IEVJ,ADkBhB,CAAe,SAAf,GAA2B,CClBf,EAAZ,EDkBgC,cAAhC;ACjBA,AFWE,ACOF,AG1BJ,ACAA,IDAA,ACAA,ILmBM,CEXG,CERT,ACAA,CJ0BS,CClBL,AFWM,CInBV,ACAA,CLmBM,CEXS,GAAX,AFSoB,OCSpB,GAAsB,AG1B1B,ACAA,CDAA,ACAA,IJ0B+B,GG1B/B,ACAA,CDAA,ACAA,IJ0BI,CAFkB,CAEmB,QG1BzC,ACAA,CDAA,ACAA,CDAA,ACAA;AHSG,AFWG,ACOH,MAED,EDTI,MAAM,EAAN;AAHkB,AIhBxB,ACAA,IDAA,ACAA,GLgBI,EIhBJ,ACAA,AEsBE,GHtBF,ACAA,ODAA,ACAA,CDAA,ACAA,IEsBc,SHtBd,ACAA,CDAA,ACAA;ALqBG,AOEC,aAAO,KAAK,YAAL,GAAoB,CAApB,GAAwB,KAAK,YAAL,GAAoB,CAA5C,GAAgD,CAAvD;AHrBJ,ACAA,AEsBG,IHtBH,ACAA,QDAA,ACAA,GDAA,ACAA,ODAA,ACAA,CDAA,ACAA,WDAA,ACAA,CDAA,ACAA;WHQE,ADmBU,iBAAQ,KCnBR,KDmBA,EAA0B;AClBlC,ADmBA,AG1BJ,ACAA,IDAM,ACAA,OHOG,AFYP,ACOO,CG1BK,ACAA,GHOV,CAAU,GDmBV,CCnBA,ADmBc,CCnBC,GDmBf,CAAmB,CCnBnB,EAAsB,KAAK,AFYhB,ECOX,CCnBA,CFYF,CEZkC,CFYP,IEZzB,AFYF,EAAmE,8qBKnBrE,2BDAA;AFQI,AFWiE,ACQlE,SMLD,CPHuC,CEXhC,IAAL,CAAU,AFWuD,IEXjE,IKcc,+DPH+C,IAAI;AETjE,AFUA,AOGA,IHIiB,ACFA,OLLZ,EEVE,AKaA,ILbI,CAAC,AKaA,GPHZ,CAAgB,CEVT,AKaA,CLbW,AKaA,EPHlB,CAAqB,EEVE,CKavB,GLbkB,CAAU,QAArB,CAAP;AACD,AFSwB,AOIxB,QPJwB,IAAI,EAAJ,IAAF;AAAQ,QAAA,GCQrB,CDRyB,EAAJ,IAAR,YCQN;ADRoB,ACSnC,QDTmC,ECS7B,IDTmC,EAAN,ECSrB,GAAG,KAAK,QAAL,CAAc,IAAd,CAAmB,EAAnB,CAAjB;ADTqB,ACUrB,ODVA,EOMF,ENIO,aAAL,AMJU;ANKV,AGDF,ACDA,AEFE,aNIO,AMJA,KAAK,GNIZ,EMJO,CFEG,AEFQ,EHGR,IGHH,GAAoB,CAA3B,CFEF,EDCA,ACDiC,EDCA,GCDjC,EDCA,ACDiD,EDCA;AJR/C,ACUD,AGFgD,ACDA,AEDhD,MNMD,IDZM,CAAC,KAAK,OAAV,EAAmB;AEzBvB,AF0BM,OE1BN,CAAA,KF0BW,EE1BX,GAAA,EF0BM,CE1BN,EF0BqB,IAAf,CADiB,CAEjB;AIM6C,ACDA;ALJ7C,IEXO,IFWP,GOKJ,OPLc,CAAC,KAAK,IOKZ,CPLO,CAAW,IAAX,CAAgB,COK/B,EAAwB,CPLT,CAAD,EAAwB,CAAxB,CAAV;AACD,AIKD,ACDA,AECA,WNIQ,EMJD,KAAK,KAAL,CAAW,MHAZ,ACDA,EECC,CAAP,GNIwB,GAAhB,EAA6B,AGJrC,ACDA,EDCmB,ACDA,GJKX,EAA0C,GGJlD,ACDA;ALHD,ACSC,AMJD,WNIM,cAAL,GAAsB,KAAK,cAAL,CAAoB,OAApB,eAAmC,GAAnC,WAA8C,KAA9C,CAAtB;AACD,AGFD,ACKA,UDLA,ACKA,MDLA,ACKA,GDLS,ACKA,UDLC,EAAD,ACK6B,EDLR;AAC5B,ACIoC,UDJ9B,ACIE,GDJC,CCI2B,EDJxB,IAAI,KAAA,CAAA,aAAJ,CAAkB,QAAA,CAAA,WAAA,CAAY,OAAZ,CAAoB,KAApB,EAA2B,EAA3B,CAAlB,CAAZ,KCIuB,GAAa;AHzBtC,AG0BE,WLZM,AOKR,CFOO,KAAL,CAAW,KH1BD,GAAZ,EAAuB,AFcV,CKYX,GAAyB,EEPhB,IFOsB,CAAC,IAAD,CAA/B;AH1BqB,AFerB,AIOA,AGFA,UPLM,CCSA,EMJC,KAAK,CPLG,GAAW,COK1B,EHEqC,GAAG,CAAC,CJPP,CAAC,IAAnC,CCSmB,AGFkB,EAArC;AHGA,AGHA,ACMA,AEPD,UHCS,CHGH,AIIH,IDPF,ACOM,CAAC,GJJP,AIIU,CAAC,EJJK,EAAhB,CADmB,CACC,AIIJ,KDPR,ACOG,CAAW,IDPtB,OCOW,GAAyB,CAA1B,IAA+B,EADzC,EAEE,CAAC,GAAG,MAAK,KAAL,CAAW,WAAX,GAAyB,EAF/B,EAGE,CAAC,EAHH,EAIE;AHhCmB,AFiBrB,ACSD,AGJC,ACWE,ULhBE,AIKW,OAAf,EJLa,KAAK,EAAd,GEhBE,CFgBkB,EEjBH,CEsBN,CCYX,CLjByB,KIK7B,ACYS,KAAL,CAAW,CLjBf,EAA2C,IKiBvC,CAAmB,CAAnB,CADF;AH/BH,AFgBG,AIIF,ACWE,UDXsB,ECWd,CLfH,CKeL,IDXF,OJJE,CAAkB,IAAlB,CAAuB,GIID,GJJtB,AKeQ,EAAR,GDXF;AJHE,AKcA,WEVJ,CFUgB,KAAZ,YEVK,KAAT,EAA0B,IFUV,KAAZ;ALbD,AIID,ACSE,AETF,WAAK,CHAA,ACSgB,IETrB,CHAA,CAAW,CGAE,KAAK,CAAC,CHAnB,ACSE,CDTkB,CGAP,CAAU,IHAG,CAAC,EAAD,CAA1B,EGAuB,IAAI,MFSN,cAAnB;AAAA,AETyB,YFSU,GETN,CFS7B,KET6B,CAAA,MAAA,CAAA,MAAA,CAAA,GFSM,GETN,CFS7B,AET6B,EAAA,EAC1B,IAD0B,CAAA,EACtB;APXE,AIWX,ACQE,AEPA,UAAA,CLtBJ,CEqBO,ACQsC,EEPrC,EAAE,EFON,SDRF,CAAqB,EFrBhB,WEqBL,ACQ2C,EDRP,ICQlC,ELXsB,AIGiB,KJHZ,AIGO,CAAW,SJXpC,EIWyB,CAAuB,QAAvB,EAApC;AFpBA,AFSW,ACjCf,AIoDM,AERO,ON5Cb,CAAA,CM2CmC,CAAJ,EFSwB,CH5B5C,EDxBX,GCwBgB,ADxBhB,EIoDM,EJpDN,MCwBW,EAAP,aG4BmD,QAAjD;AH3BH,AEoBC,ACOE,AETyB,OAAd,CAAb,IHEK,ACOwD,IAA3D,WDPF,CAAqB,OAArB,EAA8B,ECO+B,GDP7D,CCOE;ALnBS,AOcZ;APNC,AIKA,ACSE,YDTG,ECSE,OAAL,MDTF,CAAqB,SAArB,EAAgC,OAAhC,aCWM,CLhBmC,GKgB/B,GAAG,YAAH,GAAkB,UAF1B,oMAM0B,EAN1B,gBAMiC,KANjC,yKASyE,cATzE,yNAc+C,IAd/C,2EAegD,MAfhD,2EAgBgD,QAhBhD;ALduC,AKmCxC,cLnCU,SAA8B;AIMzC,EF7B6B,SK+B/B,CHFO,eAAL,CAAqB,CGEd,EAAT,EAAmB,KHFjB,EAAiC,MAAK,WAAL,CAAiB,QAAjB,CAAjC;AJLE,AKoCF,AE5BA,UAAM,EF4BD,ELpCC,AOQI,GAAG,KAAK,CPRH,CAAC,GKoChB,AE5Ba,CF4BQ,AE5BG,GPRlB,CAAkB,AOQX,CAAgB,MF4B7B,ELpCiC,AKoCC,CLpCA,COQJ,GPRxB,CKoCiC,AE5BV,IPRc,CAAzC,EAA4C,AKoCZ,EAAlC;AH5DJ,AFyBQ,AIMJ,AGC6B,OLhCjC,CAAA,IE+BS,GGC4C,CPPzC,GEzBZ,AKgCyD,CAAC,ELhC1D,AE+BI,AGCiD,GPPhC,CAAC,COO2C,EAAhC,GPPzB,CEzBR,CFyB8B;AACpB,AIMP,AC6BC,AE7B6B,KHX/B,EGWe,CAAb,IF6BK,MLnCO,SKmCZ,CAAqB,CLnCE,GAAG,OKmC1B,ELnCmC,AKmCD,CLnCE,KAAV,AKmCc,CLnCE,AKmCD,MAAK,GLnCK,CAAC,CKmCX,CAAW,ILnC1B,CAApB,GKmCkC,CAAxC;IHnDS;AFkBH,AIVN,AC4CA,AE5BA,UHhBK,AGgBD,EF4BC,EE5BL,CHhBA,CGgBU,EPNA,AIVG,KAAb,IC4CA,CAAqB,CLlCf,EAAiB,QKkCvB,EAAkC,MAAM,CAAC,MAAK,KAAL,CAAW,QAAZ,CAAxC;ALjCQ,AIbuC,AGmB7C,QAAA,IAAI,CAAC,GPNC,COMN,GAAY,IAAZ,CPNe,CAAC,IAAV,CAAe,MAAf,CAAsB,KAAtB,CAA4B,IAA5B,EAAkC,CAAC,WAAW,CAAC,CAAD,CAAZ,CAAlC;AACD,AIXR,AC6CC,AE5BC,YF4BI,UAAL;ALjCK,AKkCN,AE5BA,KFXD,QLDM,MAMO;AEpBb,AFqBQ,cAAA,SAAS,CAAC,CErBN,GAAZ,AFqBQ,CAAe,CErBA,KFqBf;AErBe,AFsBhB,AKfL,UAAK,KAAL,GAAa,KAAb;AACA,UAAK,CDeC,ECfN,GAAW,IAAI,KAAA,CAAA,MDeG,KCfP,CAAgB,EDerB,EAAmC,ICfd,CAAA,QAAhB,CAAX;AHRqB,AFuBjB,AICJ,WAAK,IAAI,CAAC,GAAG,CAAb,EAAgB,CAAC,GAAG,IFvBd,GADe,CEwBO,CAAC,MAA7B,EAAqC,CAAC,EAAtC,EAA0C;AFtB3C,AFsBI,AICD,ACfF,QAAI,CAAC,GDeG,GCfE,IDeK,CCfV,CAAW,CDee,OCf/B,CDeuC,CAAC,ACfd,CDea,CAArC;AJAD,AIEC,AChBA,AEvCN,OAAA,CAAA,IFuCW,CDgBA,AGvDX,GAAA,CFuCM,CAAW,EDgBX,CGvDN,KFuCM,CAAoB,MAAK,GAAL,CAAS,OAAT,EAApB,sBDiB8B,OAAO,CAAC,KAAR,GAAgB,EAD9C,mJAIgB,OAAO,CAAC,IAJxB,uBAIyC,OAAO,CAAC,QAJjD,sEAM+B,OAAO,CAAC,OANvC;AJvBS,AKQV;ALRU,AIiCT,YAAI,OAAO,CAAC,QAAR,CAAiB,MAAjB,GAA0B,CAA9B,EAAiC;AJjCxB,AIkCP,AClC2C,WHAjD,IEkCW,OAAL,CAAa,KAAK,EFlCjB,SEkCY,CAAiB,OAAO,CAAC,QAAzB,CAAb;AFjCJ,AFDW,AImCR,AC1BJ,aHRQ,KAAK,UAAL,EAAP;AACD,AFFY,AIoCV;AJdF;AIgBC,EC1CsC,MAAA,CAAA,ID0C/B,KAAK,OAAL,EAAP;AACD;AC3CH,EHDmC,KGCnC,CAAA,OAAA,GAAA,YAAA;;AHDA,OAAA,CAAA,aAAA,GAAA,aAAA;AF1BA,EI6B4C,KJ7B5C,CAAA,AI6B4C,CAAA,MJ7B5C,GAAA,MAAA;;AI6BA,OAAA,CAAA,OAAA,GAAA,cAAA","file":"app.5cec07dd.js","sourceRoot":"..","sourcesContent":["import { RouteInfo } from '../types';\nimport View from './view';\n\nexport default class Router {\n  private isStart: boolean;\n  defaultRoute: RouteInfo | null;\n  routeTable: RouteInfo[];\n\n  constructor() {\n    window.addEventListener('hashchange', this.route.bind(this));\n\n    this.isStart = false;\n    this.defaultRoute = null;\n    this.routeTable = [];\n  }\n\n  setDefaultPage(page: View, params: RegExp | null = null): void {\n    this.defaultRoute = {\n      path: '',\n      page,\n      params,\n    };\n  }\n\n  addRoutePath(path: string, page: View, params: RegExp | null = null): void {\n    this.routeTable.push({ path, page, params });\n\n    if (!this.isStart) {\n      this.isStart = true;\n      // Execute next tick\n      setTimeout(this.route.bind(this), 0);\n    }\n  }\n\n  private route() {\n    const routePath: string = location.hash;\n\n    if (routePath === '' && this.defaultRoute) {\n      this.defaultRoute.page.render();\n      return;\n    }\n\n    for (const routeInfo of this.routeTable) {\n      if (routePath.indexOf(routeInfo.path) >= 0) {\n        if (routeInfo.params) {\n          const parseParams = routePath.match(routeInfo.params);\n\n          if (parseParams) {\n            routeInfo.page.render.apply(null, [parseParams[1]]);\n          }\n        } else {\n          routeInfo.page.render();\n        }\n        return;\n      }\n    }\n  }\n}\n","// 공통요소를 코드 개선 부모 클래스에서 공통 요소를 뽑아 낸다\nexport default abstract class View {\n  // 속성\n  private template: string;\n  private renderTemplate: string; // 기존의 템플릿을 가지고 있으면서 화면을 랜더링 할때는 이 템플릿을 이용하고 새로운 값을 받을땐 원본 키값을 채운다\n  private container: HTMLElement;\n  private htmlList: string[];\n\n  constructor(containerId: string, template: string) {\n    const conatinerElement: HTMLElement | null =\n      document.getElementById(containerId);\n\n    if (!conatinerElement) {\n      throw '최상위 컨테이너가 없어 UI를 진행하지 못합니다.';\n    }\n\n    this.container = conatinerElement;\n    this.template = template;\n    this.renderTemplate = template;\n    this.htmlList = [];\n  }\n\n  //메소드\n  // 슈퍼클래스 기능 요소 - container에 innerHtml에 데이터를 넣고 있음\n  protected updateView(): void {\n    this.container.innerHTML = this.renderTemplate;\n    this.renderTemplate = this.template; // setTemplateData 전 초기 값으로\n  }\n\n  //html 조각을 추가\n  protected addHtml(htmlString: string): void {\n    this.htmlList.push(htmlString);\n  }\n  protected getHtml(): string {\n    const snapshot = this.htmlList.join('');\n    this.clearHtmlList();\n    return snapshot;\n  }\n\n  // key를 받아 데이터 변환\n  protected setTemplateData(key: string, value: string): void {\n    this.renderTemplate = this.renderTemplate.replace(`{{__${key}__}}`, value);\n  }\n\n  private clearHtmlList(): void {\n    this.htmlList = []; // newsfeedview와 Newsdetail에서 사용이 되며 값을 한번 add가 되어지고 있기 때문에 한번 초기화 해줘야한다.\n  }\n\n  // 자식의 구현을 하라는 마킹 추상 메소드\n\n  abstract render(...params: string[]): void;\n}\n","import { NewsFeed, NewsDetail } from '../types';\n\nexport default class Api {\n  ajax: XMLHttpRequest;\n  url: string;\n\n  constructor(url: string) {\n    this.ajax = new XMLHttpRequest();\n    this.url = url;\n  }\n\n  getRequest<AjaxResponse>(): AjaxResponse {\n    this.ajax.open('GET', this.url, false);\n    this.ajax.send();\n\n    return JSON.parse(this.ajax.response) as AjaxResponse;\n  }\n}\n\nexport class NewsFeedApi extends Api {\n  constructor(url: string) {\n    super(url);\n  }\n\n  getData(): NewsFeed[] {\n    return this.getRequest<NewsFeed[]>();\n  }\n}\n\nexport class NewsDetailApi extends Api {\n  constructor(url: string) {\n    super(url);\n  }\n\n  getData(): NewsDetail {\n    return this.getRequest<NewsDetail>();\n  }\n}\n","export const NEWS_URL = 'https://api.hnpwa.com/v0/news/1.json';\nexport const CONTENT_URL = 'https://api.hnpwa.com/v0/item/@id.json';\n","import View from '../core/view';\nimport { NewsDetailApi } from '../core/api';\nimport { NewsComment, NewsStore } from '../types';\nimport { CONTENT_URL } from '../config';\n\nconst template = `\n<div class=\"bg-gray-600 min-h-screen pb-8\">\n  <div class=\"bg-white text-xl\">\n    <div class=\"mx-auto px-4\">\n      <div class=\"flex justify-between items-center py-6\">\n        <div class=\"flex justify-start\">\n          <h1 class=\"font-extrabold\">Hacker News</h1>\n        </div>\n        <div class=\"items-center justify-end\">\n          <a href=\"#/page/{{__currentPage__}}\" class=\"text-gray-500\">\n            <i class=\"fa fa-times\"></i>\n          </a>\n        </div>\n      </div>\n    </div>\n  </div>\n\n  <div class=\"h-full border rounded-xl bg-white m-6 p-4 \">\n    <h2>{{__title__}}</h2>\n    <div class=\"text-gray-400 h-20\">\n      {{__content__}}\n    </div>\n    {{__comments__}}\n  </div>\n</div>\n`;\n\nexport default class NewsDetailView extends View {\n  private store: NewsStore;\n\n  constructor(containerId: string, store: NewsStore) {\n    super(containerId, template);\n    this.store = store;\n  }\n\n  render = (id: string): void => {\n    const api = new NewsDetailApi(CONTENT_URL.replace('@id', id));\n    const { title, content, comments } = api.getData();\n\n    this.store.makeRead(Number(id));\n    this.setTemplateData('currentPage', this.store.currentPage.toString());\n    this.setTemplateData('title', title);\n    this.setTemplateData('content', content);\n    this.setTemplateData('comments', this.makeComment(comments));\n\n    this.updateView();\n  };\n\n  private makeComment(comments: NewsComment[]): string {\n    for (let i = 0; i < comments.length; i++) {\n      const comment: NewsComment = comments[i];\n\n      this.addHtml(`\n        <div style=\"padding-left: ${comment.level * 40}px;\" class=\"mt-4\">\n          <div class=\"text-gray-400\">\n            <i class=\"fa fa-sort-up mr-2\"></i>\n            <strong>${comment.user}</strong> ${comment.time_ago}\n          </div>\n          <p class=\"text-gray-700\">${comment.content}</p>\n        </div>      \n      `);\n\n      if (comment.comments.length > 0) {\n        this.addHtml(this.makeComment(comment.comments));\n      }\n    }\n\n    return this.getHtml();\n  }\n}\n","import View from '../core/view';\nimport { NewsFeedApi } from '../core/api';\nimport { NewsStore } from '../types';\nimport { NEWS_URL } from '../config';\n\nconst template = `\n<div class=\"bg-gray-600 min-h-screen\">\n  <div class=\"bg-white text-xl\">\n    <div class=\"mx-auto px-4\">\n      <div class=\"flex justify-between items-center py-6\">\n        <div class=\"flex justify-start\">\n          <h1 class=\"font-extrabold\">Hacker News</h1>\n        </div>\n        <div class=\"items-center justify-end\">\n          <a href=\"#/page/{{__prev_page__}}\" class=\"text-gray-500\">\n            Previous\n          </a>\n          <a href=\"#/page/{{__next_page__}}\" class=\"text-gray-500 ml-4\">\n            Next\n          </a>\n        </div>\n      </div> \n    </div>\n  </div>\n  <div class=\"p-4 text-2xl text-gray-700\">\n    {{__news_feed__}}        \n  </div>\n</div>\n`;\n\nexport default class NewsFeedView extends View {\n  private api: NewsFeedApi;\n  private store: NewsStore;\n\n  constructor(containerId: string, store: NewsStore) {\n    super(containerId, template);\n\n    this.store = store;\n    this.api = new NewsFeedApi(NEWS_URL);\n\n    if (!this.store.hasFeeds) {\n      this.store.setFeeds(this.api.getData());\n    }\n  }\n\n  render = (page: string = '1'): void => {\n    this.store.currentPage = Number(page);\n\n    for (\n      let i = (this.store.currentPage - 1) * 10;\n      i < this.store.currentPage * 10;\n      i++\n    ) {\n      const { id, title, comments_count, user, points, time_ago, read } =\n        this.store.getFeed(i);\n\n      this.addHtml(`\n        <div class=\"p-6 ${\n          read ? 'bg-red-500' : 'bg-white'\n        } mt-6 rounded-lg shadow-md transition-colors duration-500 hover:bg-green-100\">\n          <div class=\"flex\">\n            <div class=\"flex-auto\">\n              <a href=\"#/show/${id}\">${title}</a>  \n            </div>\n            <div class=\"text-center text-sm\">\n              <div class=\"w-10 text-white bg-green-300 rounded-lg px-0 py-2\">${comments_count}</div>\n            </div>\n          </div>\n          <div class=\"flex mt-3\">\n            <div class=\"grid grid-cols-3 text-sm text-gray-500\">\n              <div><i class=\"fas fa-user mr-1\"></i>${user}</div>\n              <div><i class=\"fas fa-heart mr-1\"></i>${points}</div>\n              <div><i class=\"far fa-clock mr-1\"></i>${time_ago}</div>\n            </div>  \n          </div>\n        </div>    \n      `);\n    }\n\n    this.setTemplateData('news_feed', this.getHtml());\n    this.setTemplateData('prev_page', String(this.store.prevPage));\n    this.setTemplateData('next_page', String(this.store.nextPage));\n\n    this.updateView();\n  };\n}\n","// 사용하는 쪽에서 페이지 하위 디렉토리 관심을 갖지 않아도 된다.\n\nexport { default as NewsDetailView } from './news-detail-view';\nexport { default as NewsFeedView } from './news-feed-view';\n","import { NewsStore, NewsFeed } from './types';\n\nexport class Store implements NewsStore {\n  private feeds: NewsFeed[];\n  private _currentPage: number;\n\n  constructor() {\n    this.feeds = [];\n    this._currentPage = 1;\n  }\n\n  get currentPage() {\n    return this._currentPage;\n  }\n\n  set currentPage(page: number) {\n    this._currentPage = page;\n  }\n\n  get nextPage(): number {\n    return this._currentPage + 1;\n  }\n\n  get prevPage(): number {\n    return this._currentPage > 1 ? this._currentPage - 1 : 1;\n  }\n\n  get numberOfFeed(): number {\n    return this.feeds.length;\n  }\n\n  get hasFeeds(): boolean {\n    return this.feeds.length > 0;\n  }\n\n  getFeed(position: number): NewsFeed {\n    return this.feeds[position];\n  }\n\n  getAllFeeds(): NewsFeed[] {\n    return this.feeds;\n  }\n\n  setFeeds(feeds: NewsFeed[]): void {\n    this.feeds = feeds.map(feed => ({\n      ...feed,\n      read: false,\n    }));\n  }\n\n  makeRead(id: number): void {\n    const feed = this.feeds.find((feed: NewsFeed) => feed.id === id);\n\n    if (feed) {\n      feed.read = true;\n    }\n  }\n}\n","import Router from './core/router';\nimport { NewsFeedView, NewsDetailView } from './page';\nimport { Store } from './store';\n\nconst store = new Store();\n\nconst router: Router = new Router();\nconst newsFeedView = new NewsFeedView('root', store);\nconst newsDetailView = new NewsDetailView('root', store);\n\nrouter.setDefaultPage(newsFeedView);\n\nrouter.addRoutePath('/page/', newsFeedView, /page\\/(\\d+)/);\nrouter.addRoutePath('/show/', newsDetailView, /show\\/(\\d+)/);\n"]}